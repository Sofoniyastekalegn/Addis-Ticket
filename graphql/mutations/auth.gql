


  tickets(where: { user_id: { _eq: $userId } }, order_by: { created_at: desc }) {
    id
    user_id
    schedule_id
    seat_number
    price
    status
    payment_reference
    created_at
    updated_at
    schedule {
      id
      start_time
      end_time
      price
      movie {
        id
        title
        featured_image_url
      }
      cinema_hall {
        name
        cinema {
          name
          city
        }
      }
    }
  }
}

query GetUserBookmarks($userId: Int!) {
  user_bookmarks(where: { user_id: { _eq: $userId } }, order_by: { created_at: desc }) {
    id
    user_id
    schedule_id
    created_at
    schedule {
      id
      start_time
      end_time
      price
      movie {
        id
        title
        featured_image_url
      }
      cinema_hall {
        name
        cinema {
          name
          city
        }
      }
    }
  }
}

query GetScheduleById($id: Int!) {
  schedules_by_pk(id: $id) {
    id
    movie_id
    cinema_hall_id
    start_time
    end_time
    price
    available_seats
    created_at
    updated_at
    movie {
      id
      title
      description
      duration
      featured_image_url
      rating
    }
    cinema_hall {
      id
      name
      capacity
      cinema {
        id
        name
        address
        city
      }
    }
    tickets {
      seat_number
    }
  }
}